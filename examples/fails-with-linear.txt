func f(p: Promise(Int)): Unit begin
  p <~ 4
end

func main(): Unit begin
  let u: Promise*(Int) = promise Int in
  u <~ 5;
  f(u);
  u <~ 6
end
